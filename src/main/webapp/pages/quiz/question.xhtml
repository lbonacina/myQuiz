<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/resources/templates/default.xhtml">
    <ui:define name="content">

        <h:form id="question_form">


            <p:outputPanel id="question" styleClass="question">

                <p:outputLabel
                        value="Question #{quizsub_ctrl.currentQuestionNumber} of #{quizsub_ctrl.quiz.numberOfQuestions} : "/>
                <h:outputText styleClass="question_text ui-widget" value="#{quizsub_ctrl.currentQuestion.text}"/>

                <p:outputLabel value="Answers : "/>
                <p:selectOneRadio value="#{quizsub_ctrl.singleUserAnswer}" converter="possibleAnswerItemsConverter"
                                  layout="pageDirection" rendered="#{!quizsub_ctrl.currentQuestionMultiAnswer}">
                    <f:selectItems value="#{quizsub_ctrl.currentPossibleAnswers}"
                                   var="a" itemLabel="#{a.text}" itemValue="#{a}"/>
                </p:selectOneRadio>

                <p:selectManyCheckbox value="#{quizsub_ctrl.multiUserAnswer}" converter="possibleAnswerItemsConverter"
                                      rendered="#{quizsub_ctrl.currentQuestionMultiAnswer}">
                    <f:selectItems value="#{quizsub_ctrl.currentPossibleAnswers}"
                                   var="a" itemLabel="#{a.text}" itemValue="#{a}"/>
                </p:selectManyCheckbox>

                <p:outputPanel styleClass="question_button_panel">
                    <p:commandButton value="Prev" styleClass="prev" action="#{quizsub_ctrl.prev}"
                                     disabled="#{quizsub_ctrl.isStartOfQuiz}" update="question"/>
                    <p:commandButton value="Next" styleClass="next" action="#{quizsub_ctrl.next}"
                                     disabled="#{quizsub_ctrl.isEndOfQuiz}" update="question"/>
                    <p:commandButton value="Complete" action="#{quizsub_ctrl.complete}"
                                     rendered="#{quizsub_ctrl.isEndOfQuiz}" update="finalResult"/>

                    <p:messages/>
                </p:outputPanel>

            </p:outputPanel>


            <h:panelGroup id="finalResult">
                <h:panelGrid rendered="#{quizsub_ctrl.quizComplete}">
                    <h:outputLabel value="Final Score:"/>
                    <h:outputText value="#{quizsub_ctrl.finalScore}"/>
                </h:panelGrid>
            </h:panelGroup>

        </h:form>

    </ui:define>
</ui:composition>
